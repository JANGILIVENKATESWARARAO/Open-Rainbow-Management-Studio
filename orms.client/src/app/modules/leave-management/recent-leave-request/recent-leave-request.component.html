<div class="leave-container anycard">
  <div class="headding">Recent Leave Requests</div>

  @for (leave of leaveRequests; track leave) {
    <div class="leave-card anycard">
      <div class="leave-header">
        <div class="left">
          <h3>
            {{ leave.type }}
            @if (leave.status === 'Pending') {
              <orms-chip [text]="leave.status" [bgColor]="'#f0dc98'" [color]="'#a42424'" [activeBGColor]="'#f0dc98'"
              [activeColor]="'#a42424'" [size]="'extrasmall'"></orms-chip>
            }
            @if (leave.status === 'Approved') {
              <orms-chip [text]="leave.status" [bgColor]="'#bff3c6'" [color]="'#093c07'" [activeBGColor]="'#bff3c6'"
              [activeColor]="'#093c07'" [size]="'small'"></orms-chip>
            }
            @if (leave.status === 'Rejected') {
              <orms-chip [text]="leave.status" [bgColor]="'#e80707'" [color]="'#0b0303'" [activeBGColor]="'#e80707'"
              [activeColor]="'#0b0303'" [size]="'extrasmall'"></orms-chip>
            }
            @if (leave.status === 'Rejected') {
              <orms-chip [text]="leave.status" [bgColor]="'#e80707'" [color]="'#0b0303'" [activeBGColor]="'#e80707'"
              [activeColor]="'#0b0303'" [size]="'small'"></orms-chip>
            }
            @if (leave.status === 'Rejected') {
              <orms-chip [text]="leave.status" [bgColor]="'#e80707'" [color]="'#0b0303'" [activeBGColor]="'#e80707'"
              [activeColor]="'#0b0303'" [size]="'medium'"></orms-chip>
            }
            @if (leave.status === 'Rejected') {
              <orms-chip [text]="leave.status" [bgColor]="'#e80707'" [color]="'#0b0303'" [activeBGColor]="'#e80707'"
              [activeColor]="'#0b0303'" [size]="'small'" [usePointerCursor]="false"></orms-chip>
            }
          </h3>
          <p class="date">
            <span class="date-text">
              {{ leave.fromDate }}
              @if (leave.toDate) {
                to {{ leave.toDate }}
              }
            </span>
            <span class="apply-text">Apply on : {{ leave.applyDate }}</span>
          </p>
          <p class="desc" [class.truncated]="isTruncated(leave.description, 50)"
            [appTooltip]="isTruncated(leave.description, 50) ? leave.description : ''" tooltipPosition="top"
            [tooltipbgColor]="'red'" [tooltiptextColor]="'black'" [tooltipMaxWidth]="'80'">
            {{ leaveDescription(leave.description, 50) }}
          </p>
        </div>
        <div class="right">
          <p class="days">
            {{ calculateDays(leave.fromDate, leave.toDate) }} day{{
            calculateDays(leave.fromDate, leave.toDate) > 1 ? 's' : ''
            }}
          </p>
          @if (leave.status === 'Pending') {
            <orms-button [text]="'Edit'" [bgColor]="'#1880d6'" [color]="'#fff'" [hoverBGColor]="'#1880d6'"
            [hoverColor]="'#fff'" [showBorder]="false" [borderRadius]="12" style="margin-right: 10px;"></orms-button>
            <orms-button [text]="'Cancel'" [bgColor]="'#ee120d'" [color]="'#fff'" [hoverBGColor]="'#ee120d'"
            [hoverColor]="'#fff'" [showBorder]="false" [borderRadius]="12"></orms-button>
          }
        </div>
      </div>
    </div>
  }
</div>