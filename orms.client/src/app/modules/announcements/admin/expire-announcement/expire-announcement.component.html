<div class="container">
  <div class="blank-space" [class.visible]="showForm">
    <orms-text-box [label]="'Title'" [placeHolder]="'Enter the title '" [isRequired]="true"></orms-text-box>
    <div class="inside">
      <orms-drop-down [label]="'Priority'" [placeHolder]="'Select seviarity type'" [isRequired]="true" [options]="[
          { value: 1, name: 'high' },
          { value: 2, name: 'medium' },
          { value: 3, name: 'low' }
        ]"></orms-drop-down>
      <orms-calendar [label]="'Expires On'" (dateSelected)="dateSelected($event)"
      (calendarClosed)="calendarClosed($event)"></orms-calendar>
    </div>

    <orms-text-area [label]="'Description'" [Placeholder]="'Enter description '" [isRequired]="true"
    [showBorder]="true"></orms-text-area>

    <div class="footer">
      <orms-button [text]="'Clear'" [color]="'red'" [hoverBGColor]="'#f2b6b6'" [hoverColor]="'Black'" [borderRadius]="8"
      [borderColor]="'red'" [showBorder]="true"></orms-button>
      <orms-button [text]="'Save'" [bgColor]="'green'" [color]="'white'" [hoverBGColor]="'#519c51'"
      [hoverColor]="'white'" [borderRadius]="8" [showBorder]="false"></orms-button>
    </div>
  </div>


  <div class="blank-space-two">
    <h3 class="card-title">Expire Announcements</h3>

    @for (announcement of otherAnnouncements; track announcement; let last = $last) {
      <div class="announcement-item">
        <div class="title-row">
          <h4 class="title">{{ announcement.title }}</h4>
          <orms-chip [text]="announcement.priority" [color]="
              announcement.priority === 'high'
                ? '#b38742'
 : announcement.priority === 'low' ? '#23816c': '#aa355b'"
            [activeColor]="announcement.priority === 'medium'? '#b38742': announcement.priority === 'low' ? '#23816c': '#aa355b'"
            [activeBGColor]="announcement.priority === 'medium'? '#fef9c2': announcement.priority === 'low'? '#dbfce7': '#ffe2e2'"
            [bgColor]="announcement.priority === 'medium' ? '#fef9c2' : announcement.priority === 'low' ? '#dbfce7' : '#ffe2e2'">
          </orms-chip>
        </div>
        <p class="description" [class.truncated]="isTruncated(announcement.description, 50)"
          [appTooltip]="isTruncated(announcement.description, 50) ? announcement.description : ''" tooltipPosition="top"
          [tooltipbgColor]="'red'" [tooltiptextColor]="'black'" [tooltipMaxWidth]="'60'">
          {{ leaveDescription(announcement.description, 50) }}
        </p>
        <div class="footer-row">
          <div class="date">
            <span class="expire-label">Expire on:</span>
            <span class="expire-date">{{ formatDate(announcement.expireDate) }}</span>
          </div>
          <div class="footer">
            <orms-button [text]="'Edit'" [bgColor]="'#3965e9'" [color]="'white'" [hoverBGColor]="'#3965e9'"
            [hoverColor]="'black'" [borderRadius]="8" [showBorder]="false"></orms-button>
            <orms-button [text]="'Delete'" [bgColor]="'red'" [color]="'white'" [hoverBGColor]="'red'"
            [hoverColor]="'black'" [borderRadius]="8" [showBorder]="false"></orms-button>
          </div>
        </div>
      </div>
      @if (!last) {
        <hr class="custom-line" />
      }
    }
  </div>
</div>