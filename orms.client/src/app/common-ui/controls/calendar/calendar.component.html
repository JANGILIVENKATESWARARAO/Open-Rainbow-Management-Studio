<div class="dob-container">
    <label class="dob-label">
        {{ label }}
        <span *ngIf="isRequired" class="required-star">*</span>
    </label>

    <div class="input-container "   [ngStyle]="{
    'border': '1px solid',
    'border-color': isSave ? 'red' : null,'border-radius': '7px'
  }">
        <input type="text" class="dob-input" [value]="formattedDate" (click)="openDatePicker($event)"
            placeholder="dd-mm-yyyy" readonly required />
        <svg xmlns="http://www.w3.org/2000/svg" class="calendar-icon" width="20" height="20" viewBox="0 0 24 24"
            fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 2v4"></path>
            <path d="M16 2v4"></path>
            <rect width="18" height="18" x="3" y="4" rx="2"></rect>
            <path d="M3 10h18"></path>
        </svg>

        <div *ngIf="showCalendar" class="calendar-overlay" (click)="closeCalendar()">
            <div class="calendar-container" (click)="$event.stopPropagation()">
                <div class="calendar-header">
                  <div class="month-year-selectors">
                        <!-- Month Dropdown -->
                        <div class="dropdown" (click)="$event.stopPropagation()">
                            <div class="dropdown-display" (click)="toggleMonthDropdown()">
                            {{ months[currentMonth] }}
                            <!-- <span class="arrow">&#9662;</span> -->
                            </div>
                            <ul *ngIf="showMonthDropdown" class="dropdown-list">
                            <li *ngFor="let month of months; let i = index"
                                [class.selected]="i === currentMonth"
                                (click)="selectMonth(i)">
                                {{ month }}
                            </li>
                            </ul>
                        </div>

                        <!-- Year Dropdown -->
                        <div class="dropdown" (click)="$event.stopPropagation()">
                            <div class="dropdown-display" (click)="toggleYearDropdown()">
                            {{ currentYear }}
                            <!-- <span class="arrow">&#9662;</span> -->
                            </div>
                            <ul *ngIf="showYearDropdown" class="dropdown-list">
                            <li *ngFor="let year of years"
                                [class.selected]="year === currentYear"
                                (click)="selectYear(year)">
                                {{ year }}
                            </li>
                            </ul>
                        </div>
                        </div>
                    <div class="nav-btns">
                    <button class="nav-btn" (click)="previousMonth()">
                        <svg width="8" height="12" viewBox="0 0 8 12" fill="none">
                            <path d="M7 1L1 6L7 11" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>
                    <button class="nav-btn" (click)="nextMonth()">
                        <svg width="8" height="12" viewBox="0 0 8 12" fill="none">
                            <path d="M1 1L7 6L1 11" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" />
                        </svg>
                    </button>
                    </div>
                </div>

                <div class="calendar-body">

                <div class="calendar-weekdays">
                    <div *ngFor="let weekday of weekdays" class="weekday">
                        {{weekday}}
                    </div>
                </div>

                <div class="calendar-grid">
                    <div *ngFor="let day of calendarDays" class="calendar-day"
                        [class.current-month]="day.isCurrentMonth" [class.other-month]="!day.isCurrentMonth"
                        [class.today]="day.isToday" [class.selected]="day.isSelected" (click)="selectDate(day)">
                        {{day.day}}
                    </div>
                </div>
                </div>
                <div class="calendar-footer">
                    <button class="footer-btn today-btn" (click)="goToToday()">Today</button>
                    <button class="footer-btn clear-btn" (click)="clearSelection()">Clear</button>
                    <button class="footer-btn close-btn" (click)="closeCalendar()">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>